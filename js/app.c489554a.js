(function(t){function a(a){for(var s,r,n=a[0],c=a[1],l=a[2],u=0,p=[];u<n.length;u++)r=n[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(a);while(p.length)p.shift()();return o.push.apply(o,l||[]),e()}function e(){for(var t,a=0;a<o.length;a++){for(var e=o[a],s=!0,n=1;n<e.length;n++){var c=e[n];0!==i[c]&&(s=!1)}s&&(o.splice(a--,1),t=r(r.s=e[0]))}return t}var s={},i={app:0},o=[];function r(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=s,r.d=function(t,a,e){r.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,a){if(1&a&&(t=r(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)r.d(e,s,function(a){return t[a]}.bind(null,s));return e},r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,"a",a),a},r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},r.p="/Vue_Eshop/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=a,n=n.slice();for(var l=0;l<n.length;l++)a(n[l]);var d=c;o.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"04ef":function(t,a,e){},"0a49":function(t,a,e){"use strict";e("a013")},"1d76":function(t,a,e){"use strict";e("b87f")},2286:function(t,a,e){t.exports=e.p+"img/dessert_category.734898eb.jpg"},2631:function(t,a,e){},"27c5":function(t,a,e){"use strict";e("be58")},"3da3":function(t,a,e){"use strict";e("04ef")},"4a2f":function(t,a,e){"use strict";e("b1d9")},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d"),e("4de4");var s=e("2b0e"),i=e("bc3a"),o=e.n(i),r=e("130e"),n=e("f5af"),c=e.n(n),l=(e("e829"),e("9062")),d=e.n(l),u=(e("e40d"),e("7bb1")),p=(e("4989"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("router-view")],1)}),m=[],h={name:"App",created:function(){}},v=h,f=(e("5c0b"),e("2877")),g=Object(f["a"])(v,p,m,!1,null,null,null),b=g.exports,_=e("8c4f"),C=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("Alert"),e("nav",{staticClass:"navbar navbar-expand-md navbar-light bg-light fixed-top"},[e("a",{staticClass:"navbar-brand px-2 bg-cyan text-light",staticStyle:{"border-radius":"25px"},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.toHome()}}},[t._v(" Take a rest mall ")]),t._m(0),e("div",{staticClass:"collapse navbar-collapse justify-content-end",attrs:{id:"navbarCollapse"}},[e("ul",{staticClass:"navbar-nav h6"},[e("li",{staticClass:"cart nav-item dropdown"},[t._m(1),e("div",{staticClass:"dropdown-menu dropdown-menu-right w-100",staticStyle:{"min-width":"25rem"},attrs:{"aria-labelledby":"dropdownMenuLink"}},[t._m(2),e("div",{staticClass:"dropdown-divider"}),t._l(t.cart.carts,(function(a){return e("div",{key:a.id,staticClass:"d-flex align-items-center py-1 px-3"},[e("span",{staticClass:"limit1line flex-grow-1 "},[t._v(" "+t._s(a.product.title)+" ")]),e("span",{staticClass:"text-right ",staticStyle:{width:"90px"}},[t._v(" "+t._s(a.total)+" ")]),e("span",{staticClass:"text-center mx-2 ",staticStyle:{width:"50px"}},[t._v(" "+t._s(a.qty)+" "+t._s(a.product.unit)+" ")]),e("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(e){return t.removecartitem(a.id)}}},[e("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})])])})),e("div",{staticClass:"dropdown-divider"}),e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-cyan",on:{click:function(a){return t.gotoorder()}}},[t._v(" 前往結帳 ")])])],2),t.cart.carts.length?e("div",{staticClass:"cart-count rounded-circle bg-danger text-light"},[t._v(t._s(t.cart.carts.length))]):t._e()]),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link ",attrs:{to:"/about"}},[t._v("Home")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link ",attrs:{to:"/store"}},[t._v("前往賣場")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link ",attrs:{to:"/login"}},[t._v("管理員登入")])],1)])])]),e("router-view",{key:this.$route.fullPath}),t._m(3)],1)},y=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-shopping-cart text-dark"}),t._v(" 購物車 ")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"text-center"},[e("i",{staticClass:"fas fa-shopping-cart text-dark"}),t._v(" 購物車明細 ")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("footer",{staticClass:"page-footer font-small pt-4 bg-cyan text-white"},[e("div",{staticClass:"container-fluid text-center text-md-left "},[e("div",{staticClass:"row container",staticStyle:{margin:"auto"}},[e("div",{staticClass:"col-md-6 mt-md-0 mt-3"},[e("h5",{staticClass:"text-uppercase"},[t._v("Welcome to our mall")]),e("p",[t._v(" 本日Take a rest モールにご来店頂きまして誠にありがとうございました。 ")])]),e("hr",{staticClass:"clearfix w-100 d-md-none pb-3"}),e("div",{staticClass:"col-md-3 mb-md-0 mb-3 text-center"},[e("h5",{staticClass:"text-uppercase"},[t._v("關於我們")]),e("ul",{staticClass:"list-unstyled"},[e("li",[e("a",{attrs:{href:"#!"}},[t._v("關於本站")])]),e("li",[e("a",{attrs:{href:"#!"}},[t._v("服務條款")])]),e("li",[e("a",{attrs:{href:"#!"}},[t._v("人才募集")])]),e("li",[e("a",{attrs:{href:"#!"}},[t._v("合作夥伴")])])])]),e("div",{staticClass:"col-md-3 mb-md-0 mb-3 text-center"},[e("h5",{staticClass:"text-uppercase"},[t._v("客服中心")]),e("ul",{staticClass:"list-unstyled"},[e("li",[e("a",{attrs:{href:"#!"}},[t._v("加入會員")])]),e("li",[e("a",{attrs:{href:"#!"}},[t._v("新手上路")])]),e("li",[e("a",{attrs:{href:"#!"}},[t._v("客服信箱")])]),e("li",[e("a",{attrs:{href:"#!"}},[t._v("客服中心Q&A")])])])])]),e("div",{staticClass:"socialmedia text-right my-2"},[e("a",{staticClass:"px-1 py-1 mr-1",attrs:{href:"javascript:;"}},[e("i",{staticClass:"fab fa-facebook fa-2x"})]),e("a",{staticClass:"px-1 py-1 mr-1",attrs:{href:"javascript:;"}},[e("i",{staticClass:"fab fa-twitter fa-2x"})]),e("a",{staticClass:"px-1 py-1 mr-1",attrs:{href:"javascript:;"}},[e("i",{staticClass:"fab fa-instagram fa-2x"})]),e("a",{staticClass:"px-1 py-1 mr-1",attrs:{href:"https://github.com/JACKY6450",target:"_blank"}},[e("i",{staticClass:"fab fa-github fa-2x"})])])]),e("div",{staticClass:"footer-copyright text-center py-3 bg-primary"},[t._v(" © 2021 Copyright: By Jacky Yen Han 僅做為個人作品練習無任何商業用途 "),e("br"),t._v(" 網站圖片全部來自 "),e("a",{staticClass:"text-light",attrs:{href:"https://pixabay.com/",target:"_blank"}},[t._v("Pixabay免費圖庫")])])])}],x=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"message-alert"},t._l(t.messages,(function(a,s){return e("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+a.status},[t._v(" "+t._s(a.message)+" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.removeMessage(s)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},w=[],k=(e("a434"),e("159b"),{name:"Navbar",data:function(){return{messages:[]}},methods:{updateMessage:function(t,a){var e=Math.floor(new Date/1e3);this.messages.push({message:t,status:a,timestamp:e}),this.removeMessageWithTiming(e)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var a=this;setTimeout((function(){a.messages.forEach((function(e,s){e.timestamp===t&&a.messages.splice(s,1)}))}),5e3)}},created:function(){var t=this;t.$bus.$on("messages:push",(function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(a,e)}))}}),$=k,P=(e("4a2f"),Object(f["a"])($,x,w,!1,null,null,null)),j=P.exports,E={name:"Home",components:{Alert:j},data:function(){return{}},computed:{cart:function(){return this.$store.state.cart},isLoading:function(){return this.$store.state.isLoading}},methods:{getcart:function(){this.$store.dispatch("getcart")},removecartitem:function(t){this.$store.dispatch("removecartitem",t)},toHome:function(){this.$router.push("/")},gotoorder:function(){this.$router.push("/customerorder")}},created:function(){this.getcart()}},S=E,M=(e("783f"),Object(f["a"])(S,C,y,!1,null,"297aead6",null)),O=M.exports,N=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"about"},[s("Banner"),s("div",{staticClass:"container"},[s("h1",{staticClass:"text-center mb-3"},[t._v("熱銷商品")]),s("div",{staticClass:"row justify-content-between"},t._l(t.popsell,(function(a){return s("div",{key:a.id,staticClass:"sellitem col-md-3 mb-3"},[s("router-link",{staticClass:"text-dark",attrs:{to:"/productsingle/"+a.id}},[s("div",{staticClass:"card"},[s("img",{staticClass:"card-img-top",attrs:{src:a.imageUrl,height:"200px"}}),s("div",{staticClass:"card-body"},[s("h3",{staticClass:"card-title"},[t._v(t._s(a.title))]),s("p",{staticClass:"card-text productcont",staticStyle:{color:"#003377"}},[t._v(" "+t._s(a.content)+" ")]),s("div",{staticClass:"h5 text-right ",staticStyle:{color:"indigo"}},[t._v("特價: $"+t._s(a.price))])])])])],1)})),0),s("div",{staticClass:"aboutus text-center mt-3",attrs:{"data-aos":"fade-down"}},[s("h1",[t._v("About Us")]),s("p",{staticClass:"lead font-weight-bold",staticStyle:{"font-size":"20px"}},[t._v(" 運動、娛樂、美食甜點本店主打的商品，休息放鬆時最需要的精神糧食，現代忙碌的生活時間變的零碎， 因此你有時候需要停下腳步找尋生活中的一些小確性，讓自己放鬆充電一下才能有更多的能量繼續衝刺! ")]),s("router-link",{staticClass:"text-white",attrs:{to:"/store"}},[s("div",{staticClass:"imgframe",staticStyle:{position:"relative",height:"400px"}},[s("img",{attrs:{src:e("696d"),alt:"",height:"100%"}}),s("div",{staticClass:"overlay"},[s("div",{staticClass:"readmore"},[t._v("進入賣場")])])])])],1),s("hr",{staticClass:"featurette-divider bg-cyan"}),s("div",{staticClass:"row featurette "},[t._m(0),s("div",{staticClass:"col-md-7 py-3 order-md-1 d-flex flex-column justify-content-center"},[s("div",{staticClass:"w-75 text-center",staticStyle:{margin:"auto"},attrs:{"data-aos":"fade-left"}},[s("h1",{staticClass:"featurette-heading mb-3"},[t._v("運動")]),s("p",{staticClass:"lead ",staticStyle:{"font-size":"20px"}},[t._v(" 體育運動是對於所有有組織或無組織參與，通過使用、維持或改進體能，為參與者提供娛樂的競技性身體運動的總稱。 世界上共有上百種體育運動，其形式多元，有的只需要兩人便可完成，有的則需要多人組隊完成。 ")]),s("button",{staticClass:"btn btn-dark w-25",staticStyle:{"border-radius":"10px"},on:{click:function(a){return t.toStore()}}},[t._v(" 看更多 ")])])])]),s("hr",{staticClass:"featurette-divider bg-cyan"}),s("div",{staticClass:"row featurette "},[t._m(1),s("div",{staticClass:"col-md-7 py-3 order-md-1 d-flex flex-column justify-content-center"},[s("div",{staticClass:"w-75 text-center",staticStyle:{margin:"auto"},attrs:{"data-aos":"fade-right"}},[s("h1",{staticClass:"featurette-heading mb-2"},[t._v("娛樂")]),s("p",{staticClass:"lead mb-2",staticStyle:{"font-size":"20px"}},[t._v(" 一般娛樂幾乎流行於所有文化中，它們大多出於宮闈，發展出精妙多樣的技巧，終聞於市井平民。 當代娛樂產業主要依靠娛樂產品的製作和銷售，而這一產業的發展更加速了娛樂的大眾化。 為適應不同規模，娛樂發展出各種形式：可以是私人音樂服務中的自選曲庫，也可以適合兩個人的二人宴會， 更可以是不分國別膚色、包容萬千觀眾、舞樂恢弘的國際化視聽盛宴。 ")]),s("button",{staticClass:"btn btn-dark w-25",staticStyle:{"border-radius":"10px"},on:{click:function(a){return t.toStore()}}},[t._v(" 看更多 ")])])])]),s("hr",{staticClass:"featurette-divider bg-cyan"}),s("div",{staticClass:"row featurette "},[t._m(2),s("div",{staticClass:"col-md-7 py-3 order-md-1 d-flex flex-column justify-content-center"},[s("div",{staticClass:"w-75 text-center",staticStyle:{margin:"auto"},attrs:{"data-aos":"fade-up"}},[s("h1",{staticClass:"featurette-heading mb-3"},[t._v("美味甜點")]),s("p",{staticClass:"lead ",staticStyle:{"font-size":"20px"}},[t._v(" 甜點是西餐正餐的最後一道甜味菜品，也可以說是西方人在餐後食用的甜味食物。可以是水果拼盤、小蛋糕、餡餅、布丁或者冰激凌等， 時至今日甜點已徹底傳入東方而且不只是飯後食用，更成為許多喜愛甜點的饕客的美食選擇。 ")]),s("button",{staticClass:"btn btn-dark w-25",staticStyle:{"border-radius":"10px"},on:{click:function(a){return t.toStore()}}},[t._v(" 看更多 ")])])])]),s("hr",{staticClass:"featurette-divider bg-cyan"})])],1)},L=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"categorypic col-md-5 px-0",attrs:{"data-aos":"fade-right"}},[s("img",{attrs:{src:e("92ec"),alt:"",height:"360px"}})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"categorypic col-md-5 px-0 order-md-2",attrs:{"data-aos":"fade-left"}},[s("img",{attrs:{src:e("696d"),alt:"",height:"380px"}})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"categorypic col-md-5 px-0",attrs:{"data-aos":"fade-down"}},[s("img",{attrs:{src:e("2286"),alt:"",height:"360px"}})])}],q=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},T=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"carousel slide",attrs:{id:"myCarousel","data-ride":"carousel"}},[s("ol",{staticClass:"carousel-indicators"},[s("li",{staticClass:"active",attrs:{"data-target":"#myCarousel","data-slide-to":"0"}}),s("li",{attrs:{"data-target":"#myCarousel","data-slide-to":"1"}}),s("li",{attrs:{"data-target":"#myCarousel","data-slide-to":"2"}})]),s("div",{staticClass:"carousel-inner"},[s("div",{staticClass:"carousel-item active"},[s("img",{attrs:{alt:"Vue logo",src:e("92ec"),width:"100%"}}),s("div",{staticClass:"container"},[s("div",{staticClass:"carousel-caption text-center"},[s("h2",[t._v("You need to take a rest "),s("br"),t._v(" In your busy life ")]),s("p",{staticClass:"h4"},[t._v("慶祝開幕全館商品特價出售趕快來搶購!")])])])]),s("div",{staticClass:"carousel-item"},[s("img",{attrs:{alt:"Vue logo",src:e("2286"),width:"100%"}}),s("div",{staticClass:"container"},[s("div",{staticClass:"carousel-caption text-center"},[s("h2",[t._v("You need to take a rest "),s("br"),t._v(" In your busy life ")]),s("p",{staticClass:"h4"},[t._v("慶祝開幕全館商品特價出售趕快來搶購!")])])])]),s("div",{staticClass:"carousel-item"},[s("img",{attrs:{alt:"Vue logo",src:e("696d"),width:"100%"}}),s("div",{staticClass:"container"},[s("div",{staticClass:"carousel-caption text-center"},[s("h2",[t._v("You need to take a rest "),s("br"),t._v(" In your busy life ")]),s("p",{staticClass:"h4"},[t._v("慶祝開幕全館商品特價出售趕快來搶購!")])])])])]),s("a",{staticClass:"carousel-control-prev",attrs:{href:"#myCarousel",role:"button","data-slide":"prev"}},[s("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sr-only"},[t._v("Previous")])]),s("a",{staticClass:"carousel-control-next",attrs:{href:"#myCarousel",role:"button","data-slide":"next"}},[s("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sr-only"},[t._v("Next")])])])}],A={},D=A,I=(e("b92f"),Object(f["a"])(D,q,T,!1,null,null,null)),U=I.exports,B={components:{Banner:U},data:function(){return{products:[],popsell:[]}},methods:{getproducts:function(){var t=this,a="https://vue-course-api.hexschool.io/api/jackyyenhan/products/all";this.$store.dispatch("updateloading",!0),this.$http.get(a).then((function(a){console.log(a.data),t.products=a.data.products,t.addtopopsell(),setTimeout((function(){t.$store.dispatch("updateloading",!1)}),500)}))},addtopopsell:function(){this.popsell=this.products.filter((function(t){if(t.is_enabled)return t}))},toStore:function(){this.$router.push("/store")}},created:function(){this.getproducts()}},z=B,H=(e("daab"),Object(f["a"])(z,N,L,!1,null,"0700ba16",null)),W=H.exports,J=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"customerorder"},[e("div",{staticClass:"container py-5"},[e("Payprocedure",{attrs:{step:t.currentstep}}),e("div",{staticClass:" bg-white mt-4 px-2",staticStyle:{"box-shadow":"0px 5px 3px 0px #777777"}},[t._m(0),e("div",{staticClass:"purchaseli bg-white overflow-auto"},[e("table",{staticClass:"table table-borderless px-2 text-nowrap"},[t._m(1),e("tbody",[t._l(t.cart.carts,(function(a){return e("tr",{key:a.id,staticClass:"border-bottom"},[e("td",{staticClass:"text-center align-middle"},[e("button",{staticClass:"btn btn-outline-danger btn-sm ",on:{click:function(e){return t.removecartitem(a.id)}}},[e("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})])]),e("td",[e("img",{attrs:{src:a.product.imageUrl,alt:"",width:"100",height:"100"}})]),e("td",{staticClass:"align-middle h5"},[t._v(" "+t._s(a.product.title)+" ")]),e("td",{staticClass:"text-center align-middle h6 text-center"},[t._v(" "+t._s(a.qty)+" ")]),e("td",{staticClass:"text-center align-middle h6 text-center"},[t._v(" "+t._s(a.product.unit)+" ")]),e("td",{staticClass:"text-right align-middle h6"},[t._v(" $"+t._s(a.total)+" ")])])})),e("tr",[e("td"),e("td"),e("td"),e("td"),e("td",{staticClass:"text-right h5"},[t._v("總計:")]),e("td",{staticClass:"text-right h5"},[t._v(t._s(t.cart.total)+" 元")])])],2)]),e("div",{staticClass:"text-right px-3 py-2"},[e("button",{staticClass:"btn btn-cyan btn-lg h5",on:{click:function(a){return t.gotoinformation()}}},[t._v("下一步填寫資料")])])])])],1)])},V=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h4",{staticClass:"py-3 px-3 mb-0 border-bottom"},[e("i",{staticClass:"fas fa-shopping-cart text-dark"}),t._v(" 購物車明細 ")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",{staticClass:"border-bottom"},[e("th",{attrs:{width:"80"}}),e("th",{attrs:{width:"100"}},[t._v("商品縮圖")]),e("th",[t._v("商品名稱")]),e("th",{staticClass:"text-center",attrs:{width:"100"}},[t._v("數量")]),e("th",{staticClass:"text-center",attrs:{with:"80"}},[t._v("單位")]),e("th",{attrs:{width:"150"}},[t._v("價格")])])])}],Y=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"payprocedure row"},[e("div",{staticClass:"col-md-4 mb-4"},[e("div",{staticClass:"text-center px-4 py-4 ",class:t.step.step1?"text-white bg-cyan":"text-dark bg-lightcyan",staticStyle:{"border-radius":"8px"}},[e("div",{staticClass:"h5"},[t._v("STEP1")]),e("div",{staticClass:"h6 mt-3"},[t._v("確認購物清單")])])]),e("div",{staticClass:"col-md-4 mb-4"},[e("div",{staticClass:"text-center px-4 py-4 ",class:t.step.step2?"text-white bg-cyan":"text-dark bg-lightcyan",staticStyle:{"border-radius":"8px"}},[e("div",{staticClass:"h5"},[t._v("STEP2")]),e("div",{staticClass:"h6 mt-3"},[t._v("填寫購買人資訊")])])]),e("div",{staticClass:"col-md-4 mb-4"},[e("div",{staticClass:"text-center px-4 py-4 ",class:t.step.step3?"text-white bg-cyan":"text-dark bg-lightcyan",staticStyle:{"border-radius":"8px"}},[e("div",{staticClass:"h5"},[t._v("STEP3")]),e("div",{staticClass:"h6 mt-3"},[t._v("確認訂單&付款")])])])])},R=[],F={props:{step:{type:Object,required:!0}},created:function(){console.log(this.step)}},Q=F,K=Object(f["a"])(Q,Y,R,!1,null,null,null),G=K.exports,X={components:{Payprocedure:G},data:function(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""},currentstep:{step1:!0,step2:!1,step3:!1}}},computed:{cart:function(){return this.$store.state.cart}},methods:{removecartitem:function(t){this.$store.dispatch("removecartitem",t)},gotoinformation:function(){this.$router.push("/Customerinformation")}},created:function(){}},Z=X,tt=(e("27c5"),Object(f["a"])(Z,J,V,!1,null,"d0a8ea1a",null)),at=tt.exports,et=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"information"},[e("div",{staticClass:"container mx-auto py-5"},[e("Payprocedure",{attrs:{step:t.currentstep}}),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"purchaserdata col-md-7 mb-4"},[e("div",{staticClass:"bg-white",staticStyle:{"box-shadow":"0px 5px 3px 0px #888888"}},[e("h4",{staticClass:"py-2 px-2 mb-0 bg-cyan text-white"},[t._v(" 填寫購買人資訊 ")]),e("form",{staticClass:"py-2 px-2",on:{submit:function(a){return a.preventDefault(),t.createorder()}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useremail"}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("email")},attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email"},domProps:{value:t.form.user.email},on:{input:function(a){a.target.composing||t.$set(t.form.user,"email",a.target.value)}}}),t.errors.has("email")?e("span",{staticClass:"text-danger"},[t._v(" Email 須為有效的電子信箱 ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("name")},attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(a){a.target.composing||t.$set(t.form.user,"name",a.target.value)}}}),t.errors.has("name")?e("span",{staticClass:"text-danger"},[t._v(" 姓名必須輸入 ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",attrs:{type:"tel",id:"usertel",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(a){a.target.composing||t.$set(t.form.user,"tel",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("address")},attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(a){a.target.composing||t.$set(t.form.user,"address",a.target.value)}}}),t.errors.has("address")?e("span",{staticClass:"text-danger"},[t._v(" 地址欄位不得留空 ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"comment"}},[t._v("留言")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"comment",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(a){a.target.composing||t.$set(t.form,"message",a.target.value)}}})]),t._m(0)])])]),e("div",{staticClass:"col-md-5 "},[e("div",{staticClass:"cartlist bg-white shadow-sm border border-cyan"},[e("h3",{staticClass:"pt-3 px-3 mb-0 font-weight-bold"},[t._v(" 購物商品明細 ")]),e("div",{staticClass:"px-3"},[t._l(t.cart.carts,(function(a){return e("div",{key:a.id,staticClass:"d-flex border-bottom border-dark py-3"},[e("div",{staticClass:"w-25 mr-3"},[e("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:a.product.imageUrl,alt:""}})]),e("div",{staticClass:"w-75 h6 mb-0"},[e("div",{staticClass:"d-flex justify-content-between font-weight-bold mb-2"},[e("span",{staticClass:"text-primary"},[t._v("商品名稱")]),e("span",[t._v(t._s(a.product.title))])]),e("div",{staticClass:"d-flex justify-content-between mb-2"},[e("span",{staticClass:"text-cyan"},[t._v("數量")]),e("span",[t._v(t._s(a.qty)+" "+t._s(a.product.unit))])]),e("div",{staticClass:"d-flex justify-content-between"},[e("span",{staticClass:"text-success"},[t._v("價格")]),a.total===a.final_total?e("span",[t._v("$"+t._s(a.total))]):e("span",{staticClass:"text-cyan"},[t._v("$"+t._s(a.final_total))])])])])})),e("div",{staticClass:"my-3 text-right"},[e("span",{staticClass:"h5 mr-2 text-danger"},[t._v("總計: ")]),e("span",{staticClass:"h5 text-dark"},[t._v(t._s(t.cart.total)+" 元")])]),t.cart.final_total!=t.cart.total?e("div",{staticClass:"mb-3 text-right"},[e("span",{staticClass:"h5 mr-2 text-success"},[t._v("折扣價: ")]),e("span",{staticClass:"h5 text-dark"},[t._v(t._s(t.cart.final_total)+" 元")])]):t._e(),t._m(1),e("div",{staticClass:"input-group mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"","aria-label":"Recipient's username","aria-describedby":"basic-addon2"},domProps:{value:t.coupon_code},on:{input:function(a){a.target.composing||(t.coupon_code=a.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-cyan",attrs:{type:"button"},on:{click:function(a){return t.addcouponcode()}}},[t._v("套用優惠碼")])])])],2)])])])],1)])},st=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-cyan"},[t._v("送出訂單")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mb-1 text-cyan"},[e("i",{staticClass:"far fa-smile"}),t._v(" 慶祝開幕輸入優惠碼 takearest 即刻享有9折優惠 ")])}],it={components:{Payprocedure:G},data:function(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""},listfixtop:!1,currentstep:{step1:!1,step2:!0,step3:!1},coupon_code:""}},computed:{cart:function(){return this.$store.state.cart}},methods:{addcouponcode:function(){var t=this,a="https://vue-course-api.hexschool.io/api/jackyyenhan/coupon",e={code:this.coupon_code};this.$store.dispatch("updateloading",!0),this.$http.post(a,{data:e}).then((function(a){console.log(a),t.$store.dispatch("getcart"),t.coupon_code=""}))},createorder:function(){var t=this;if(this.cart.carts.length){var a="https://vue-course-api.hexschool.io/api/jackyyenhan/order",e=this.form;this.$store.dispatch("updateloading",!0),this.$validator.validate().then((function(s){s?t.$http.post(a,{data:e}).then((function(a){console.log("訂單已建立",a),a.data.success&&(t.$router.push("/customercheckout/"+a.data.orderId),t.$store.dispatch("updateloading",!1))})):(console.log("欄位不完整"),t.$store.dispatch("updateloading",!1))}))}else alert("購物車是空的!!")}}},ot=it,rt=Object(f["a"])(ot,et,st,!1,null,"5274ca96",null),nt=rt.exports,ct=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"checkout container py-5"},[e("Payprocedure",{attrs:{step:t.currentstep}}),e("div",{staticClass:"row mt-5 px-5 justify-content-center"},[e("form",{staticClass:"col-md-8 bg-white px-0 shadow-sm",on:{submit:function(a){return a.preventDefault(),t.payorder()}}},[e("h4",{staticClass:"py-2 px-2 mb-0 bg-cyan text-white",staticStyle:{"border-radius":"5px 5px 0 0"}},[t._v(" 以下為您的訂單資訊 ")]),e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.order.products,(function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[t._v(t._s(a.product.title))]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+"/"+t._s(a.product.unit))]),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(a.final_total))])])})),0),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),e("td",{staticClass:"text-right"},[t._v(t._s(t.order.total))])])])]),e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("th",{attrs:{width:"100"}},[t._v("Email")]),e("td",[t._v(t._s(t.order.user.email))])]),e("tr",[e("th",[t._v("姓名")]),e("td",[t._v(t._s(t.order.user.name))])]),e("tr",[e("th",[t._v("收件人電話")]),e("td",[t._v(t._s(t.order.user.tel))])]),e("tr",[e("th",[t._v("收件人地址")]),e("td",[t._v(t._s(t.order.user.address))])]),e("tr",[e("th",[t._v("付款狀態")]),e("td",[t.order.is_paid?e("span",{staticClass:"text-success"},[t._v("付款完成")]):e("span",{staticClass:"text-danger"},[t._v("尚未付款")])])])])]),!1===t.order.is_paid?e("div",{staticClass:"text-right pr-2 pb-2"},[e("button",{staticClass:"btn btn-cyan"},[t._v("確認付款去")])]):t._e()])]),t._m(1)],1)},lt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("品名")]),e("th",[t._v("數量")]),e("th",[t._v("單價")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"exampleModalCenter",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header bg-success text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[t._v("付款成功!")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body h6"},[t._v(" 感謝您這次的購物我們將盡快處理您的訂單 ")]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("確認")])])])])])}],dt=e("1157"),ut=e.n(dt),pt={components:{Payprocedure:G},data:function(){return{order:{user:{}},orderid:"",currentstep:{step1:!1,step2:!1,step3:!0}}},computed:{cart:function(){return this.$store.state.cart}},methods:{getorder:function(){var t=this,a="https://vue-course-api.hexschool.io/api/jackyyenhan/order/"+this.orderid;this.$store.dispatch("updateloading",!0),this.$http.get(a).then((function(a){t.order=a.data.order,console.log(a),t.order.is_paid&&ut()("#exampleModalCenter").modal("show"),t.$store.dispatch("updateloading",!1)}))},payorder:function(){var t=this,a="https://vue-course-api.hexschool.io/api/jackyyenhan/pay/"+this.orderid;this.$store.dispatch("updateloading",!0),this.$http.post(a).then((function(a){a.data.success&&t.getorder(),console.log(a)}))},close:function(){ut()("#exampleModalCenter").modal("hide")}},created:function(){this.orderid=this.$route.params.orderId,this.getorder()}},mt=pt,ht=(e("1d76"),Object(f["a"])(mt,ct,lt,!1,null,null,null)),vt=ht.exports,ft=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"store"},[e("Banner"),e("div",{staticClass:"container my-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"category col-md-3 mb-4 ",attrs:{id:"categoryfilt",refs:"categoryfilt"}},[e("ul",{staticClass:"list-group h5 shadow-sm",class:{"fixlist-group":t.listfixtop},attrs:{id:"listgroup"}},t._l(t.category,(function(a,s){return e("li",{key:a,staticClass:"list-group-item list-group-item-action",class:{active:t.pointer===s},on:{click:function(e){return t.categoryswi(a,s)}}},[t._v(" "+t._s(a)+" ")])})),0)]),e("div",{staticClass:"col-md-9"},[e("div",{staticClass:"row"},t._l(t.filterprod,(function(a){return e("div",{key:a.id,staticClass:"col-sm-6 col-lg-4 mb-4 "},[e("div",{staticClass:"card border-2 shadow"},[e("div",{staticClass:"card-head position-relative"},[e("router-link",{staticClass:"prodimg",attrs:{to:"/productsingle/"+a.id}},[e("div",{staticClass:"prodimg1",staticStyle:{height:"180px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+a.imageUrl+")"}}),e("div",{staticClass:"overlay text-center w-100 h-100 position-absolute"},[e("div",{staticClass:"readmore text-white"},[t._v(" 看更多 ")])])])],1),e("div",{staticClass:"card-body"},[e("span",{staticClass:"badge badge-teal float-right ml-2"},[t._v(t._s(a.category))]),e("h5",{staticClass:"card-title"},[e("router-link",{staticClass:"text-primary",attrs:{to:"/productsingle/"+a.id}},[t._v(t._s(a.title))])],1),e("p",{staticClass:"card-text"},[t._v(t._s(a.content))]),e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[e("del",{staticClass:"h6 text-danger"},[t._v("原價: "+t._s(a.origin_price))]),e("div",{staticClass:"h5"},[t._v("特價: "+t._s(a.price))])])]),e("div",{staticClass:"card-footer d-flex"},[e("button",{staticClass:"btn btn-cyan w-100 ",attrs:{type:"button"},on:{click:function(e){return t.addtocart(a.id)}}},[t._v(" 加到購物車 ")])])])])})),0)])])])],1)},gt=[],bt={components:{Banner:U},name:"Store",data:function(){return{products:[],category:[],same:!1,sameid:"",currentcategory:"全部商品",pointer:0,scroll:0,showidth:null,listfixtop:!1}},computed:{cart:function(){return this.$store.state.cart},filterprod:function(){var t=this;return this.currentcategory==this.category[1]?this.products.filter((function(a){if(a.category==t.category[1])return a})):this.currentcategory==this.category[2]?this.products.filter((function(a){if(a.category==t.category[2])return a})):this.currentcategory==this.category[3]?this.products.filter((function(a){if(a.category==t.category[3])return a})):this.products}},methods:{getproducts:function(){var t=this,a="https://vue-course-api.hexschool.io/api/jackyyenhan/products/all";this.$store.dispatch("updateloading",!0),this.$http.get(a).then((function(a){console.log(a.data),t.products=a.data.products,t.pagination=a.data.pagination,t.categoryhandle(t.products),setTimeout((function(){t.$store.dispatch("updateloading",!1)}),500)}))},getcart:function(){var t=this,a="https://vue-course-api.hexschool.io/api/jackyyenhan/cart";this.$http.get(a).then((function(a){console.log(a.data.data),t.cart=a.data.data}))},addtocart:function(t){for(var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=0;e<this.cart.carts.length;e++)if(this.cart.carts[e].product_id===t){a+=this.cart.carts[e].qty,console.log(this.cart.carts[e].id,this.cart.carts[e].product_id),this.sameid=this.cart.carts[e].id,this.same=!0;break}if(this.same){var s=this.sameid;this.same=!1,this.$store.dispatch("addtocart1",{cartid:s,id:t,qty:a})}else this.$store.dispatch("addtocart",{id:t,qty:a})},categoryhandle:function(t){var a=[];t.forEach((function(t,e){a[e]=t.category})),this.category=a.filter((function(t,a,e){return e.indexOf(t)===a})),this.category.unshift("全部商品"),console.log(this.category)},categoryswi:function(t,a){this.pointer=a,this.currentcategory=t},scrollDs:function(){if(this.scroll=document.documentElement.scrollTop,this.showidth=document.body.clientWidth,this.scroll>750&&this.showidth>=768){if(!this.listfixtop){var t=document.getElementById("listgroup"),a=document.getElementById("categoryfilt").offsetWidth;t.style.width=a-30+"px",this.listfixtop=!0}}else this.listfixtop&&(this.listfixtop=!1)},detect:function(){var t=document.getElementById("listgroup"),a=document.getElementById("categoryfilt").offsetWidth;t.style.width=a-30+"px"}},created:function(){this.getproducts()},mounted:function(){window.addEventListener("scroll",this.scrollDs),window.addEventListener("resize",this.detect)},destroyed:function(){window.removeEventListener("scroll",this.scrollDs),window.removeEventListener("resize",this.detect)}},_t=bt,Ct=(e("655e"),Object(f["a"])(_t,ft,gt,!1,null,"ab99c3cc",null)),yt=Ct.exports,xt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"prodsingle"},[e("div",{staticClass:"container"},[e("nav",{staticClass:"pt-4",attrs:{"aria-label":"breadcrumb"}},[e("ul",{staticClass:"breadcrumb bg-white p-0"},[e("li",{staticClass:"breadcrumb-item "},[e("router-link",{staticClass:"text-dark",attrs:{to:"/"}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item "},[e("router-link",{staticClass:"text-dark",attrs:{to:"/store"}},[t._v("賣場")])],1),e("li",{staticClass:"breadcrumb-item text-cyan active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.product.title)+" ")])])]),e("div",{staticClass:"row pb-2 "},[e("div",{staticClass:"prodimg col-md-7"},[e("img",{attrs:{src:t.product.imageUrl,alt:"",width:"100%",height:"100%"}})]),e("div",{staticClass:"prodcont col-md-5"},[e("h1",{staticClass:"text-cyan "},[t._v(t._s(t.product.title))]),e("div",{staticClass:"proddescribe ",staticStyle:{height:"90px","overflow-y":"auto"}},[e("p",{staticClass:"describecont h6"},[t._v(" "+t._s(t.product.content)+" ")])]),e("div",{staticClass:"price py-2"},[e("del",{staticClass:"h6 text-success "},[t._v("原價: "+t._s(t.product.origin_price))]),e("div",{staticClass:"h5 mt-3"},[t._v("特價: "+t._s(t.product.price))])]),e("div",{staticClass:"number my-1 mb-3"},[e("label",{staticClass:"h5"},[t._v("請選擇數量:")]),e("div",{staticClass:"countnumber d-flex align-items: center",staticStyle:{height:"40px"}},[e("button",{staticClass:"btn btn-outline-cyan ",class:{disabled:1===t.count},staticStyle:{"border-radius":"5px 0px 0px 5px"},on:{click:function(a){return t.addcount(-1)}}},[e("i",{staticClass:"fa fa-minus",attrs:{"aria-hidden":"true"}})]),e("input",{staticClass:"border border-cyan text-center h5",staticStyle:{width:"160px",height:"100%"},attrs:{type:"number"},domProps:{value:t.count}}),e("button",{staticClass:"btn btn-outline-cyan",staticStyle:{"border-radius":"0px 5px 5px 0px"},on:{click:function(a){return t.addcount(1)}}},[e("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})])])]),e("div",{staticClass:"py-2 row no-gutters"},[e("div",{staticClass:"col-md-6 pr-1"},[e("button",{staticClass:"btn btn-outline-teal w-100",on:{click:function(a){return t.gotoorder()}}},[e("i",{staticClass:"fas fa-money-check"}),t._v(" 前往結帳 ")])]),e("div",{staticClass:"col-md-6 pl-1"},[e("button",{staticClass:"btn btn-cyan w-100",on:{click:function(a){return t.addtocart(t.product.id,t.count)}}},[e("i",{staticClass:"fas fa-shopping-cart"}),t._v(" 加入購物車 ")])])])]),e("div",{staticClass:"totalprice col-md-12 h4 text-right text-danger mt-3"},[t._v(" 總金額: $"+t._s(t.total)+" ")])]),e("hr",{staticClass:"featurette-divider bg-cyan"}),e("h4",{staticClass:"px-2"},[t._v("您可能也會喜歡")]),e("div",{staticClass:"row px-2"},t._l(t.maybelike,(function(a){return e("div",{key:a.id,staticClass:"itemMaybe col-sm-6 col-lg-3 mb-3"},[e("router-link",{staticClass:"text-dark text-decoration-none",attrs:{to:"/productsingle/"+a.id}},[e("div",{staticClass:"maybelike card border-0"},[e("img",{staticClass:"card-img-top",attrs:{src:a.imageUrl,height:"200px"}}),e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title"},[t._v(t._s(a.title))]),e("div",{staticClass:"text-right d-flex justify-content-between mt-3"},[e("del",{staticClass:"h6",staticStyle:{color:"green"}},[t._v("原價: $"+t._s(a.origin_price))]),e("div",{staticClass:"h6",staticStyle:{color:"indigo"}},[t._v("特價: $"+t._s(a.price))])])])])])],1)})),0)])])},wt=[],kt=e("2909"),$t=(e("c740"),e("fb6a"),{data:function(){return{product:{},products:[],maybelike:[],count:1}},computed:{cart:function(){return this.$store.state.cart},total:function(){return this.count*this.product.price}},methods:{getproduct:function(t){var a=this,e="https://vue-course-api.hexschool.io/api/jackyyenhan/product/"+t.productId;this.$store.dispatch("updateloading",!0),this.$http.get(e).then((function(t){console.log(t.data),a.product=t.data.product,a.getproducts()}))},getproducts:function(){var t=this,a="https://vue-course-api.hexschool.io/api/jackyyenhan/products/all";this.$store.dispatch("updateloading",!0),this.$http.get(a).then((function(a){console.log(a.data),t.products=a.data.products,t.maybelikehandler(),setTimeout((function(){t.$store.dispatch("updateloading",!1)}),500)}))},maybelikehandler:function(){var t=this,a=[],e=[];if(a=this.products.filter((function(a){if(t.product.category===a.category)return a})),a.length-1<5)a.forEach((function(a){t.product.title!==a.title&&e.push(a)}));else{var s=a.findIndex((function(a){return t.product.title===a.title}));s>1&&s<a.length-2?a.forEach((function(a,i){t.product.title!==a.title&&Math.abs(s-i)<=2&&e.push(a)})):s<=1?0===s?e=a.slice(1,5):(e=a.slice(0,5),e.splice(s,1)):s>=a.length-2&&(s===a.length-1?e=a.slice(s-4,s):(e=a.slice(a.length-5,a.length),e.splice(s-1,1)))}this.maybelike=Object(kt["a"])(e)},addcount:function(t){this.count+t<1||(this.count+=t)},addtocart:function(t){for(var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=0;e<this.cart.carts.length;e++)if(this.cart.carts[e].product_id===t){a+=this.cart.carts[e].qty,console.log(this.cart.carts[e].id,this.cart.carts[e].product_id),this.sameid=this.cart.carts[e].id,this.same=!0;break}if(this.same){var s=this.sameid;this.same=!1,this.$store.dispatch("addtocart1",{cartid:s,id:t,qty:a})}else this.$store.dispatch("addtocart",{id:t,qty:a})},gotoorder:function(){this.$router.push("/customerorder")}},created:function(){var t=this.$route.params;this.getproduct(t)}}),Pt=$t,jt=(e("cc61"),Object(f["a"])(Pt,xt,wt,!1,null,"790d813a",null)),Et=jt.exports,St=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"login"},[e("form",{staticClass:"form-signin",on:{submit:function(a){return a.preventDefault(),t.signin()}}},[e("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("請登入")]),e("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control mb-3",attrs:{type:"email",id:"inputEmail",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(a){a.target.composing||t.$set(t.user,"username",a.target.value)}}}),e("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(a){a.target.composing||t.$set(t.user,"password",a.target.value)}}}),t._m(0),e("button",{staticClass:"btn btn-lg btn-cyan btn-block",attrs:{type:"submit"}},[t._v("Login")]),e("p",{staticClass:"mt-5 mb-3 text-muted"},[t._v("© 2017-2021")])])])},Mt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"checkbox mb-3"},[e("label",[e("input",{attrs:{type:"checkbox",value:"remember-me"}}),t._v(" Remember me ")])])}],Ot=(e("99af"),{data:function(){return{user:{username:"",password:""}}},methods:{signin:function(){var t=this,a="https://vue-course-api.hexschool.io/admin/signin";this.$http.post(a,this.user).then((function(a){if(a.data.success){var e=a.data.token,s=a.data.expired;document.cookie="hexToken=".concat(e,";expires=").concat(new Date(s),";"),t.$router.push("/admin/products")}}))}}}),Nt=Ot,Lt=(e("3da3"),Object(f["a"])(Nt,St,Mt,!1,null,"25fe7825",null)),qt=Lt.exports,Tt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashBoard"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("Navbar"),e("Alert"),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("Sidebar"),e("main",{staticClass:"dashCont col-md-9 ml-sm-auto col-lg-10 px-md-4 bg-white",attrs:{role:"main"}},[e("router-view")],1)],1)])],1)},At=[],Dt=(e("ac1f"),e("5319"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow"},[e("a",{staticClass:"navbar-brand col-md-3 col-lg-2 mr-0 px-3",attrs:{href:"#"}},[t._v("My E-Store BackStage")]),t._m(0),e("input",{staticClass:"form-control form-control-dark w-100",attrs:{type:"text",placeholder:"Search","aria-label":"Search"}}),e("ul",{staticClass:"navbar-nav px-3"},[e("li",{staticClass:"nav-item text-nowrap"},[e("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(a){return t.signout()}}},[t._v("Sign out")])])])])}),It=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler position-absolute d-md-none collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],Ut={methods:{signout:function(){var t=this,a="https://vue-course-api.hexschool.io/logout";this.$http.post(a).then((function(a){console.log(a.data),t.$router.push("/login")}))}}},Bt=Ut,zt=Object(f["a"])(Bt,Dt,It,!1,null,null,null),Ht=zt.exports,Wt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse position-fixed",attrs:{id:"sidebarMenu"}},[e("div",{staticClass:"sidebar-sticky pt-3"},[t._m(0),e("ul",{staticClass:"nav flex-column mb-2"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/products"}},[e("i",{staticClass:"fas fa-box-open"}),t._v(" 產品列表 ")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/coupon"}},[e("i",{staticClass:"fas fa-ticket-alt"}),t._v(" 優惠券 ")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/orderlist"}},[e("i",{staticClass:"far fa-list-alt"}),t._v(" 訂單列表 ")])],1)])])])},Jt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[e("span",[t._v("拍賣場後台")]),e("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#","aria-label":"Add a new report"}},[e("span",{attrs:{"data-feather":"plus-circle"}})])])}],Vt={},Yt=Vt,Rt=(e("eebf"),Object(f["a"])(Yt,Wt,Jt,!1,null,null,null)),Ft=Rt.exports,Qt={components:{Navbar:Ht,Sidebar:Ft,Alert:j},computed:{isLoading:function(){return this.$store.state.isLoading}},created:function(){var t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");""!==t&&(this.axios.defaults.headers.common["Authorization"]=t)}},Kt=Qt,Gt=(e("92bb"),Object(f["a"])(Kt,Tt,At,!1,null,null,null)),Xt=Gt.exports,Zt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"text-right mt-4"},[e("button",{staticClass:"btn btn-secondary",on:{click:function(a){return t.openModal(!0)}}},[t._v(" 建立新的產品 ")])]),e("table",{staticClass:"table mt-4"},[t._m(0),e("tbody",t._l(t.products,(function(a){return e("tr",{key:a.id},[e("td",[t._v(" "+t._s(a.category)+" ")]),e("td",[t._v(" "+t._s(a.title)+" ")]),e("td",{staticClass:"text-right"},[t._v(" $"+t._s(a.origin_price)+" ")]),e("td",{staticClass:"text-right"},[t._v(" $"+t._s(a.price)+" ")]),e("td",[a.is_enabled?e("span",{staticClass:"text-success"},[t._v("啟用")]):e("span",[t._v("未啟用")])]),e("td",[e("div",{staticClass:"btn-group"},[e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.openModal(!1,a)}}},[t._v(" 編輯 ")]),e("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(e){return t.opendelModal(a)}}},[t._v(" 刪除 ")])])])])})),0)]),e("Pagination",{attrs:{pagination:t.pagination},on:{change_page:t.getproducts}}),e("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(1),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.imageUrl,expression:"tempProduct.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"請輸入圖片連結"},domProps:{value:t.tempProduct.imageUrl},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"imageUrl",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"customFile"}},[t._v("或 上傳圖片 ")]),e("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"},on:{change:function(a){return t.uploadfile()}}})]),e("img",{staticClass:"img-fluid",attrs:{img:"https://images.unsplash.com/photo-1483985988355-763728e1935b?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=828346ed697837ce808cae68d3ddc3cf&auto=format&fit=crop&w=1350&q=80",src:t.tempProduct.imageUrl,alt:""}})]),e("div",{staticClass:"col-sm-8"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("標題")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.title,expression:"tempProduct.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempProduct.title},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"title",a.target.value)}}})]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"category"}},[t._v("分類")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.category,expression:"tempProduct.category"}],staticClass:"form-control",attrs:{type:"text",id:"category",placeholder:"請輸入分類"},domProps:{value:t.tempProduct.category},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"category",a.target.value)}}})]),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("單位")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.unit,expression:"tempProduct.unit"}],staticClass:"form-control",attrs:{type:"unit",id:"unit",placeholder:"請輸入單位"},domProps:{value:t.tempProduct.unit},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"unit",a.target.value)}}})])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"origin_price"}},[t._v("原價")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.origin_price,expression:"tempProduct.origin_price"}],staticClass:"form-control",attrs:{type:"number",id:"origin_price",placeholder:"請輸入原價"},domProps:{value:t.tempProduct.origin_price},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"origin_price",a.target.value)}}})]),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("售價")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.price,expression:"tempProduct.price"}],staticClass:"form-control",attrs:{type:"number",id:"price",placeholder:"請輸入售價"},domProps:{value:t.tempProduct.price},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"price",a.target.value)}}})])]),e("hr"),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"description"}},[t._v("產品描述")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.description,expression:"tempProduct.description"}],staticClass:"form-control",attrs:{type:"text",id:"description",placeholder:"請輸入產品描述"},domProps:{value:t.tempProduct.description},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"description",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"content"}},[t._v("說明內容")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.content,expression:"tempProduct.content"}],staticClass:"form-control",attrs:{type:"text",id:"content",placeholder:"請輸入產品說明內容"},domProps:{value:t.tempProduct.content},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"content",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.is_enabled,expression:"tempProduct.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.tempProduct.is_enabled)?t._i(t.tempProduct.is_enabled,null)>-1:t._q(t.tempProduct.is_enabled,1)},on:{change:function(a){var e=t.tempProduct.is_enabled,s=a.target,i=s.checked?1:0;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&t.$set(t.tempProduct,"is_enabled",e.concat([o])):r>-1&&t.$set(t.tempProduct,"is_enabled",e.slice(0,r).concat(e.slice(r+1)))}else t.$set(t.tempProduct,"is_enabled",i)}}}),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v(" 是否啟用 ")])])])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.updateproduct()}}},[t._v("確認")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"delProductModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(2),e("div",{staticClass:"modal-body"},[t._v(" 是否刪除 "),e("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempProduct.title))]),t._v(" 商品(刪除後將無法恢復)。 ")]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){return t.removeproduct()}}},[t._v(" 確認刪除 ")])])])])])],1)},ta=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{attrs:{width:"120"}},[t._v("分類")]),e("th",[t._v("產品名稱")]),e("th",{attrs:{width:"120"}},[t._v("原價")]),e("th",{attrs:{width:"120"}},[t._v("售價")]),e("th",{attrs:{width:"100"}},[t._v("是否啟用")]),e("th",{attrs:{width:"120"}},[t._v("編輯")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-dark text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("span",[t._v("新增產品")])]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-danger text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("span",[t._v("刪除產品")])]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],aa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.pagination.total_pages>1?e("nav",{attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination mb-4"},[e("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_pre}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.$emit("change_page",t.pagination.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pagination.total_pages,(function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.pagination.current_page===a}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("change_page",a)}}},[t._v(" "+t._s(a))])])})),e("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.$emit("change_page",t.pagination.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)]):t._e()},ea=[],sa={props:{pagination:{type:Object,required:!0}}},ia=sa,oa=(e("68b2"),Object(f["a"])(ia,aa,ea,!1,null,"6fa3ad46",null)),ra=oa.exports,na={components:{Pagination:ra},data:function(){return{products:[],tempProduct:{},isnew:!1,pagination:{}}},methods:{getproducts:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="https://vue-course-api.hexschool.io/api/jackyyenhan/products?page="+a;this.$store.dispatch("updateloading",!0),this.$http.get(e).then((function(a){console.log(a.data),t.products=a.data.products,t.pagination=a.data.pagination,t.$store.dispatch("updateloading",!1)}))},openModal:function(t,a){t?(this.tempProduct={},this.isnew=!0):(this.tempProduct=Object.assign({},a),this.isnew=!1),ut()("#productModal").modal("show")},opendelModal:function(t){this.tempProduct=Object.assign({},t),ut()("#delProductModal").modal("show")},updateproduct:function(){var t=this,a="https://vue-course-api.hexschool.io/api/jackyyenhan/admin/product",e="post";this.$store.dispatch("updateloading",!0),this.isnew||(a="https://vue-course-api.hexschool.io/api/jackyyenhan/admin/product/"+this.tempProduct.id,e="put"),this.$http[e](a,{data:this.tempProduct}).then((function(a){console.log(a.data),a.data.success?(ut()("#productModal").modal("hide"),t.getproducts()):(ut()("#productModal").modal("hide"),console.log("新增失敗"),t.$store.dispatch("updateloading",!1))}))},removeproduct:function(){var t=this,a="https://vue-course-api.hexschool.io/api/jackyyenhan/admin/product/"+this.tempProduct.id;this.$store.dispatch("updateloading",!0),console.log(this.tempProduct.id),this.$http.delete(a).then((function(a){console.log(a.data),t.getproducts(),ut()("#delProductModal").modal("hide")}))},uploadfile:function(){var t=this,a=this.$refs.files.files[0],e=new FormData;e.append("file-to-upload",a);var s="https://vue-course-api.hexschool.io/api/jackyyenhan/admin/upload";this.$http.post(s,e,{"Content-Type":"multipart/form-data"}).then((function(a){console.log(a.data),a.data.success?t.$set(t.tempProduct,"imageUrl",a.data.imageUrl):t.$bus.$emit("messages:push",a.data.message,"danger")}))}},created:function(){this.getproducts()}},ca=na,la=(e("0a49"),Object(f["a"])(ca,Zt,ta,!1,null,"5a5f760c",null)),da=la.exports,ua=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"orderli"},[e("table",{staticClass:"table mt-4"},[t._m(0),e("tbody",t._l(t.orderlist,(function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[t._v(" "+t._s(t._f("date")(a.paid_date))+" ")]),e("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.user.name)+" ")]),e("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.user.email)+" ")]),e("td",{staticClass:"align-middle"},[e("ul",{staticClass:"list-unstyled mb-0"},t._l(a.products,(function(a,s){return e("li",{key:s},[t._v(" "+t._s(a.product.title)+" : "+t._s(a.qty)+" "+t._s(a.product.unit)+" ")])})),0)]),e("td",{staticClass:"text-right align-middle"},[t._v(" $"+t._s(a.total)+" ")]),e("td",{staticClass:"align-middle"},[a.is_paid?e("span",{staticClass:"text-success"},[t._v("已付款")]):e("span",{staticClass:"text-danger"},[t._v("尚未付款")])])])})),0)]),e("Pagination",{attrs:{pagination:t.pagination},on:{change_page:function(a){return t.getorderlist(a)}}})],1)},pa=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{attrs:{width:"120"}},[t._v("購買時間")]),e("th",{attrs:{width:"120"}},[t._v("購買人")]),e("th",[t._v("email")]),e("th",[t._v("購買商品")]),e("th",{attrs:{width:"100"}},[t._v("應負金額")]),e("th",{attrs:{width:"120"}},[t._v("是否付款")])])])}],ma={components:{Pagination:ra},data:function(){return{orderlist:[],pagination:{}}},methods:{getorderlist:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="https://vue-course-api.hexschool.io/api/jackyyenhan/orders?page="+a;this.$store.dispatch("updateloading",!0),this.$http.get(e).then((function(a){console.log(a.data),t.orderlist=a.data.orders,t.Pagination=a.data.pagination,t.$store.dispatch("updateloading",!1)}))}},created:function(){this.getorderlist()}},ha=ma,va=Object(f["a"])(ha,ua,pa,!1,null,null,null),fa=va.exports,ga=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"coupon"},[e("div",{staticClass:"text-right mt-4"},[e("button",{staticClass:"btn btn-primary",on:{click:function(a){return t.openCouponModal(!0)}}},[t._v(" 建立新的優惠券 ")])]),e("table",{staticClass:"table mt-4"},[t._m(0),e("tbody",t._l(t.coupons,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(a.title))]),e("td",[t._v(t._s(a.code))]),e("td",[t._v(t._s(a.percent)+"%")]),e("td",[t._v(t._s(t._f("date")(a.due_date)))]),e("td",[1===a.is_enabled?e("span",{staticClass:"text-success"},[t._v("啟用")]):e("span",{staticClass:"text-muted"},[t._v("未起用")])]),e("td",{attrs:{width:"120"}},[e("button",{staticClass:"btn btn-outline-primary btn-sm mr-1",on:{click:function(e){return t.openCouponModal(!1,a)}}},[t._v("編輯")]),e("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(e){return t.removeCoupon(a)}}},[t._v("刪除")])])])})),0)]),e("div",{staticClass:"modal fade",attrs:{id:"couponModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(1),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("標題")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.title,expression:"tempCoupon.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempCoupon.title},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"coupon_code"}},[t._v("優惠碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.code,expression:"tempCoupon.code"}],staticClass:"form-control",attrs:{type:"text",id:"coupon_code",placeholder:"請輸入優惠碼"},domProps:{value:t.tempCoupon.code},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"code",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"due_date"}},[t._v("到期日")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.due_date,expression:"due_date"}],staticClass:"form-control",attrs:{type:"date",id:"due_date"},domProps:{value:t.due_date},on:{input:function(a){a.target.composing||(t.due_date=a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"price"}},[t._v("折扣百分比")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.percent,expression:"tempCoupon.percent"}],staticClass:"form-control",attrs:{type:"number",id:"price",placeholder:"請輸入折扣百分比"},domProps:{value:t.tempCoupon.percent},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"percent",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.is_enabled,expression:"tempCoupon.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox","true-value":1,"false-value":0,id:"is_enabled"},domProps:{checked:Array.isArray(t.tempCoupon.is_enabled)?t._i(t.tempCoupon.is_enabled,null)>-1:t._q(t.tempCoupon.is_enabled,1)},on:{change:function(a){var e=t.tempCoupon.is_enabled,s=a.target,i=s.checked?1:0;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&t.$set(t.tempCoupon,"is_enabled",e.concat([o])):r>-1&&t.$set(t.tempCoupon,"is_enabled",e.slice(0,r).concat(e.slice(r+1)))}else t.$set(t.tempCoupon,"is_enabled",i)}}}),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v(" 是否啟用 ")])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.updateCoupon()}}},[t._v("更新優惠券")])])])])])])},ba=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("名稱")]),e("th",[t._v("優惠碼")]),e("th",[t._v("折扣百分比")]),e("th",[t._v("到期日")]),e("th",[t._v("是否啟用")]),e("th",[t._v("編輯")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Modal title")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],_a=(e("1276"),{data:function(){return{coupons:[],tempCoupon:{title:"",is_enabled:0,percent:100,due_date:0,code:""},due_date:new Date,isNew:!1}},watch:{due_date:function(){var t=this,a=Math.floor(new Date(t.due_date)/1e3);t.tempCoupon.due_date=a}},methods:{openCouponModal:function(t,a){if(ut()("#couponModal").modal("show"),this.isNew=t,this.isNew)this.tempCoupon={};else{this.tempCoupon=Object.assign({},a);var e=new Date(1e3*this.tempCoupon.due_date).toISOString().split("T");this.due_date=e[0]}},getCoupons:function(){var t=this,a="https://vue-course-api.hexschool.io/api/jackyyenhan/admin/coupons";this.$store.dispatch("updateloading",!0),this.$http.get(a).then((function(a){console.log(a.data),t.coupons=a.data.coupons,t.$store.dispatch("updateloading",!1)}))},updateCoupon:function(){var t=this,a="https://vue-course-api.hexschool.io/api/jackyyenhan/admin/coupon";if(this.$store.dispatch("updateloading",!0),this.isNew)this.$http.post(a,{data:this.tempCoupon}).then((function(a){console.log(a),ut()("#couponModal").modal("hide"),t.getCoupons()}));else{var e="https://vue-course-api.hexschool.io/api/jackyyenhan/admin/coupon/"+this.tempCoupon.id;this.$http.put(e,{data:this.tempCoupon}).then((function(a){console.log(a),ut()("#couponModal").modal("hide"),t.getCoupons()}))}},removeCoupon:function(t){var a=this;this.tempCoupon=t;var e="https://vue-course-api.hexschool.io/api/jackyyenhan/admin/coupon/"+this.tempCoupon.id;this.$store.dispatch("updateloading",!0),this.$http.delete(e).then((function(t){console.log(t.data),a.getCoupons(),ut()("#delProductModal").modal("hide")}))}},created:function(){this.getCoupons()}}),Ca=_a,ya=Object(f["a"])(Ca,ga,ba,!1,null,null,null),xa=ya.exports;s["a"].use(_["a"]),s["a"].use(r["a"],o.a);var wa=[{path:"*",redirect:"/login"},{path:"/",redirect:"/about",name:"Home",component:O,children:[{path:"/about",name:"About",component:W},{path:"/store",name:"Store",component:yt},{path:"/productsingle/:productId",name:"Productsingle",component:Et},{path:"/customerorder",name:"Customerorder",component:at},{path:"/customerinformation",name:"Customerinformation",component:nt},{path:"/customercheckout/:orderId",name:"Customercheckout",component:vt},{path:"/login",name:"Login",component:qt}]},{path:"/admin",name:"Dashboard",component:Xt,children:[{path:"products",name:"Products",component:da,meta:{requiresAuth:!0}},{path:"orderlist",name:"Orderlist",component:fa,meta:{requiresAuth:!0}},{path:"coupon",name:"Coupon",component:xa,meta:{requiresAuth:!0}}]}],ka=new _["a"]({mode:"hash",base:"/Vue_Eshop/",routes:wa});ka.beforeEach((function(t,a,e){if(t.meta.requiresAuth){var s="https://vue-course-api.hexschool.io/api/user/check";o.a.post(s).then((function(t){console.log(t.data),t.data.success?e():e({path:"/login"})}))}else e()}));var $a=ka,Pa=e("2f62");s["a"].use(Pa["a"]);var ja=new Pa["a"].Store({state:{cart:{carts:[]},isLoading:!1},mutations:{CART:function(t,a){t.cart=a},Loading:function(t,a){t.isLoading=a}},actions:{updateloading:function(t,a){var e=t.commit;e("Loading",a)},getcart:function(t){var a=this,e=t.commit,s="https://vue-course-api.hexschool.io/api/jackyyenhan/cart";e("Loading",!0),o.a.get(s).then((function(t){t.data.data.carts&&(a.cart=t.data.data,e("CART",t.data.data)),setTimeout((function(){e("Loading",!1)}),500),console.log(t.data)}))},removecartitem:function(t,a){var e=t.dispatch,s=t.commit,i="https://vue-course-api.hexschool.io/api/jackyyenhan/cart/"+a;s("Loading",!0),o.a.delete(i).then((function(t){console.log(t.data),e("getcart")}))},addtocart:function(t,a){var e=t.dispatch,s=t.commit,i=a.id,r=a.qty,n="https://vue-course-api.hexschool.io/api/jackyyenhan/cart";s("Loading",!0);var c={product_id:i,qty:r};o.a.post(n,{data:c}).then((function(t){console.log(t.data),e("getcart")}))},addtocart1:function(t,a){var e=t.dispatch,s=t.commit,i=a.cartid,r=a.id,n=a.qty,c="https://vue-course-api.hexschool.io/api/jackyyenhan/cart/"+i;s("Loading",!0),o.a.delete(c).then((function(t){console.log(t.data),e("addtocart",{id:r,qty:n})}))}},modules:{}});s["a"].prototype.$bus=new s["a"];var Ea=function(t){var a=new Date(1e3*t);return a.toLocaleDateString()};s["a"].config.productionTip=!1,s["a"].use(r["a"],o.a),s["a"].component("Loading",d.a),s["a"].use(c.a),s["a"].use(u),s["a"].filter("date",Ea),o.a.defaults.withCredentials=!0,new s["a"]({created:function(){c.a.init({offset:120,once:!0,duration:1500})},router:$a,store:ja,render:function(t){return t(b)}}).$mount("#app")},"5c0b":function(t,a,e){"use strict";e("9c0c")},"5dfe":function(t,a,e){},6551:function(t,a,e){},"655e":function(t,a,e){"use strict";e("f5c9")},"68b2":function(t,a,e){"use strict";e("dcef")},"696d":function(t,a,e){t.exports=e.p+"img/entertaiment_category.23d6732d.jpg"},"783f":function(t,a,e){"use strict";e("7971")},7971:function(t,a,e){},"92bb":function(t,a,e){"use strict";e("6551")},"92ec":function(t,a,e){t.exports=e.p+"img/Sports_category.cfe4c8d1.jpg"},"9c0c":function(t,a,e){},a013:function(t,a,e){},b0e2:function(t,a,e){},b1d9:function(t,a,e){},b87f:function(t,a,e){},b92f:function(t,a,e){"use strict";e("2631")},b97f:function(t,a,e){},be58:function(t,a,e){},cc61:function(t,a,e){"use strict";e("5dfe")},daab:function(t,a,e){"use strict";e("b97f")},dcef:function(t,a,e){},eebf:function(t,a,e){"use strict";e("b0e2")},f5c9:function(t,a,e){}});
//# sourceMappingURL=app.c489554a.js.map